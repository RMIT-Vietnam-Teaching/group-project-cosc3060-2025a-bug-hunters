<nav class="navbar navbar-expand-lg navbar-light bg-white">
  <div class="container-fluid">
    <!-- Toggler + Logo -->
    <div class="d-flex align-items-center flex-shrink-0 me-2">
      <button
        class="navbar-toggler me-2 d-inline-block d-md-none"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarContent, #mobileLinks"
        aria-controls="navbarContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand me-0" href="/">
        <div class="logo">Logo</div>
      </a>
    </div>

    <!-- Search + Dropdown -->
    <div class="d-flex align-items-center flex-nowrap flex-grow-1 min-width-0">
      <div class="search-container me-3">
        <input
          type="text"
          class="search-input"
          placeholder="Search for courses now!"
        />
      </div>

      <% if (!user) { %>

      <div class="dropdown course-dropdown">
        <button
          class="btn btn-light dropdown-toggle p-2"
          type="button"
          id="coursesDropdown"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          All Courses
        </button>
        <ul class="dropdown-menu" aria-labelledby="coursesDropdown">
          <li><a class="dropdown-item" href="/courses">All Courses</a></li>
          <li><a class="dropdown-item" href="#">Featured Courses</a></li>
          <li><a class="dropdown-item" href="#">New Courses</a></li>
        </ul>
      </div>

      <!-- Right: Desktop Auth Buttons -->
      <div class="desktop-auth d-none d-md-flex flex-shrink-0 ms-auto mx-2">
        <a href="/auth/login" class="btn login-btn mx-2">Login</a>
        <a href="/auth/register" class="btn signup-btn">Sign Up</a>
      </div>
    </div>
  </div>

  <!-- Mobile Auth Buttons (inside collapsible content) -->
  <div class="collapse navbar-collapse px-3" id="navbarContent">
    <ul class="navbar-nav w-100 mt-2">
      <li class="nav-item">
        <a href="/auth/login" class="btn login-btn w-100 mb-2">Login</a>
      </li>
      <li class="nav-item">
        <a href="/auth/register" class="btn signup-btn w-100">Sign Up</a>
      </li>
    </ul>
  </div>

  <% } else { %>
  <!-- dropdown replaced by nav link  -->
  <div
    class="d-none d-md-flex flex-shrink-0 ms-2 mx-5 align-items-center nav-links desktop-links"
  >
    <a href="/courses">All Courses</a>
    <a href="#">My Courses</a>
    <a href="#">Forum</a>
    <a href="/courses/create" class="create-course-link"
      ><i class="bi bi-plus-circle me-1"></i>Create Course</a
    >
  </div>

  <!-- RIght icons  -->
  <div class="d-flex align-items-center gap-2 flex-shrink-0 ms-auto">
    <button class="icon-btn"><i class="bi bi-cart3"></i></button>
    <button class="icon-btn"><i class="bi bi-bell"></i></button>
    <button class="icon-btn"><i class="bi bi-chat-dots"></i></button>
    <button class="icon-btn"><i class="bi bi-person-circle"></i></button>
  </div>

  <!-- navlink bar but collapse  -->
  <div class="collapse navbar-collapse px-3" id="mobileLinks">
    <ul class="navbar-nav w-100 mt-2">
      <li class="nav-item">
        <a class="nav-link" href="/courses">All Courses</a>
      </li>
      <li class="nav-item"><a class="nav-link" href="#">My Courses</a></li>
      <li class="nav-item"><a class="nav-link" href="#">Forum</a></li>
      <li class="nav-item">
        <a class="nav-link" href="/courses/create"
          ><i class="bi bi-plus-circle me-1"></i>Create Course</a
        >
      </li>
    </ul>
  </div>

  <% } %>
</nav>
