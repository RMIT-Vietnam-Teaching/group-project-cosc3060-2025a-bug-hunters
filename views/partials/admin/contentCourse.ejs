<main class="col-md-10 admin-main">
    <!-- Header: Title and Actions -->
    <div
        class="admin-header d-flex justify-content-between align-items-center mb-4"
    >
        <h2 class="fw-bold m-0">Courses</h2>
        <div class="d-flex align-items-center gap-2">
            <input
                type="text"
                placeholder="Search..."
                class="admin-search-input"
            />
            <a href="/admin/courses/add" class="text-decoration-none">
                <button class="admin-add-button">
                    Add <i class="bi bi-plus-circle ms-1"></i>
                </button>
            </a>
        </div>
    </div>

    <!-- Table -->
    <div class="table-responsive">
        <table
            class="table table-striped table-hover text-center align-middle admin-table"
        >
            <thead class="table-light">
                <tr>
                    <th class="sortable" data-sort="name">Name</th>
                    <th class="sortable" data-sort="author">Instructor</th>
                    <th class="sortable" data-sort="students">Enrolled</th>
                    <th class="sortable" data-sort="price">Price</th>
                    <th class="sortable" data-sort="status">Status</th>
                    <th class="sortable" data-sort="created">Created</th>
                </tr>
            </thead>
            <tbody>
                <% courses.forEach(course => { %>
                <tr style="cursor: pointer" data-id="<%= course._id %>">
                    <td><%= course.name %></td>
                    <td>
                        <%= course.author?.firstName || "Unknown" %> <%=
                        course.author?.lastName || "" %>
                    </td>
                    <td><%= course.studentsEnrolled?.length || 0 %></td>
                    <td>$<%= course.price?.toFixed(2) || "0.00" %></td>
                    <td>
                        <span
                            class="badge text-bg-<%= course.status === 'Finished' ? 'success' : course.status === 'On Going' ? 'warning' : 'secondary' %>"
                        >
                            <%= course.status %>
                        </span>
                    </td>
                    <td>
                        <%= new
                        Date(course.dateCreated).toLocaleDateString('en-GB') %>
                    </td>
                </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
</main>
